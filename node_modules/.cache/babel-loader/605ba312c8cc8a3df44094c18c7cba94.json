{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import API from\"../../utils/API/API\";import Loading from\"../loading/Loading\";import{Row,Button,Icon}from\"react-materialize\";import CreateProjectModal from\"../projects/CreateProjectModal\";import ProjectTable from\"../projects/ProjectTable\";import axios from\"axios\";function mapStateToProps(state,ownProps){return{};}var BusinessDetailPage=/*#__PURE__*/function(_Component){_inherits(BusinessDetailPage,_Component);function BusinessDetailPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,BusinessDetailPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BusinessDetailPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,errorMessage:\"\",business:{},openCreateProjectModal:false,projects:[]};_this.updateData=function(){};_this.getBusinessData=function(){var businessId=_this.props.match.params.id;var getBusinessRequest=API.get(\"/businesses/\".concat(businessId));var getProjectsRequest=API.get(\"/projects/business/\".concat(businessId));axios.all([getBusinessRequest,getProjectsRequest]).then(axios.spread(function(){for(var _len2=arguments.length,responses=new Array(_len2),_key2=0;_key2<_len2;_key2++){responses[_key2]=arguments[_key2];}var business=responses[0].data.business;var projects=responses[1].data;_this.setState({business:business,projects:projects,loading:false});})).catch(function(error){_this.props.history.push(\"/notfound\");});};_this.handleOpenCreateProjectModel=function(){_this.setState(_objectSpread({},_this.state,{openCreateProjectModal:true}));};_this.closeCreateProjectModal=function(){_this.setState(_objectSpread({},_this.state,{openCreateProjectModal:false}));};_this.handleGoBack=function(){_this.props.history.goBack();};return _this;}_createClass(BusinessDetailPage,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.match.params.id){this.getBusinessData();}}},{key:\"render\",value:function render(){var loading=this.state.loading;if(loading){return React.createElement(Loading,null);}var _this$state=this.state,business=_this$state.business,openCreateProjectModal=_this$state.openCreateProjectModal,projects=_this$state.projects;return React.createElement(\"div\",null,React.createElement(Row,{style:{marginTop:\"20px\"}},React.createElement(Button,{node:\"button\",type:\"submit\",waves:\"light\",className:\"gradient-btn btn-white\",onClick:this.handleGoBack},\"Go Back\",React.createElement(Icon,{left:true},\"arrow_back\"))),React.createElement(Row,null,React.createElement(\"h5\",null,business.name,\" \",React.createElement(Button,{node:\"button\",type:\"submit\",waves:\"light\",className:\"gradient-btn btn-red\",onClick:this.handleOpenCreateProjectModel},\"Create New Project\",React.createElement(Icon,{left:true},\"add_box\")))),React.createElement(Row,{className:\" radius-corner\",style:{backgroundColor:\"white\",padding:\"20px\",boxShadow:\"1px 1px 1px #9E9E9E\"}},projects&&React.createElement(ProjectTable,{projects:projects})),openCreateProjectModal&&React.createElement(CreateProjectModal,{closeCreateProjectModal:this.closeCreateProjectModal,business:business,getBusinessData:this.getBusinessData}));}}]);return BusinessDetailPage;}(Component);export default connect(mapStateToProps)(BusinessDetailPage);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/business/BusinessDetailPage.jsx"],"names":["React","Component","connect","API","Loading","Row","Button","Icon","CreateProjectModal","ProjectTable","axios","mapStateToProps","state","ownProps","BusinessDetailPage","loading","errorMessage","business","openCreateProjectModal","projects","updateData","getBusinessData","businessId","props","match","params","id","getBusinessRequest","get","getProjectsRequest","all","then","spread","responses","data","setState","catch","error","history","push","handleOpenCreateProjectModel","closeCreateProjectModal","handleGoBack","goBack","marginTop","name","backgroundColor","padding","boxShadow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport API from \"../../utils/API/API\";\r\nimport Loading from \"../loading/Loading\";\r\nimport { Row, Button, Icon } from \"react-materialize\";\r\nimport CreateProjectModal from \"../projects/CreateProjectModal\";\r\nimport ProjectTable from \"../projects/ProjectTable\";\r\nimport axios from \"axios\";\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  return {};\r\n}\r\n\r\nclass BusinessDetailPage extends Component {\r\n  state = {\r\n    loading: true,\r\n    errorMessage: \"\",\r\n    business: {},\r\n    openCreateProjectModal: false,\r\n    projects: []\r\n  };\r\n\r\n  updateData = () => {};\r\n\r\n  getBusinessData = () => {\r\n    const businessId = this.props.match.params.id;\r\n\r\n    const getBusinessRequest = API.get(`/businesses/${businessId}`);\r\n    const getProjectsRequest = API.get(`/projects/business/${businessId}`);\r\n\r\n    axios\r\n      .all([getBusinessRequest, getProjectsRequest])\r\n      .then(\r\n        axios.spread((...responses) => {\r\n          const business = responses[0].data.business;\r\n          const projects = responses[1].data;\r\n          this.setState({\r\n            business,\r\n            projects,\r\n            loading: false\r\n          });\r\n        })\r\n      )\r\n      .catch(error => {\r\n        this.props.history.push(\"/notfound\");\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.match.params.id) {\r\n      this.getBusinessData();\r\n    }\r\n  }\r\n\r\n  handleOpenCreateProjectModel = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      openCreateProjectModal: true\r\n    });\r\n  };\r\n\r\n  closeCreateProjectModal = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      openCreateProjectModal: false\r\n    });\r\n  };\r\n\r\n  handleGoBack = () => {\r\n    this.props.history.goBack();\r\n  };\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n    const { business, openCreateProjectModal, projects } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Row style={{ marginTop: \"20px\" }}>\r\n          <Button\r\n            node=\"button\"\r\n            type=\"submit\"\r\n            waves=\"light\"\r\n            className=\"gradient-btn btn-white\"\r\n            onClick={this.handleGoBack}\r\n          >\r\n            Go Back\r\n            <Icon left>arrow_back</Icon>\r\n          </Button>\r\n        </Row>\r\n        <Row>\r\n          <h5>\r\n            {business.name}{\" \"}\r\n            <Button\r\n              node=\"button\"\r\n              type=\"submit\"\r\n              waves=\"light\"\r\n              className=\"gradient-btn btn-red\"\r\n              onClick={this.handleOpenCreateProjectModel}\r\n            >\r\n              Create New Project\r\n              <Icon left>add_box</Icon>\r\n            </Button>\r\n          </h5>\r\n        </Row>\r\n\r\n        <Row\r\n          className=\" radius-corner\"\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            boxShadow: \"1px 1px 1px #9E9E9E\"\r\n          }}\r\n        >\r\n          {projects && <ProjectTable projects={projects} />}\r\n        </Row>\r\n\r\n        {openCreateProjectModal && (\r\n          <CreateProjectModal\r\n            closeCreateProjectModal={this.closeCreateProjectModal}\r\n            business={business}\r\n            getBusinessData={this.getBusinessData}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BusinessDetailPage);\r\n"]},"metadata":{},"sourceType":"module"}