{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{TextInput,Row,Icon,Button}from\"react-materialize\";import Loading from\"../loading/Loading\";import API from\"../../utils/API/API\";import formatPhone from\"../../utils/commons/FormatPhone\";var EditContactForm=/*#__PURE__*/function(_Component){_inherits(EditContactForm,_Component);function EditContactForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,EditContactForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EditContactForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};_this.handleUpdateContact=function(e){e.preventDefault();var contact=_this.state.contact;API.patch(\"contacts/\".concat(contact._id),contact).then(function(response){_this.props.updateContact(response.data);_this.props.closeEditContact();}).catch(function(error){console.log(error);});};_this.handleInputChange=function(e){var field=e.target.name;var value=e.target.value;if(field===\"phone\"){value=formatPhone(value);}var contact=_defineProperty({_id:_this.state.contact._id,name:_this.state.contact.name,phone:_this.state.contact.phone,email:_this.state.contact.email},field,value);_this.setState({contact:contact,edited:true});};_this.handleCancel=function(){_this.props.closeEditContact();};return _this;}_createClass(EditContactForm,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({contact:this.props.contact,edited:false});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.contact._id!==this.props.contact._id){this.setState({contact:this.props.contact});}}},{key:\"render\",value:function render(){if(!this.state.contact){return React.createElement(Loading,null);}var _this$state=this.state,contact=_this$state.contact,edited=_this$state.edited;return React.createElement(\"div\",{className:\"animated bounceInLeft \"},React.createElement(\"form\",{onSubmit:this.handleUpdateContact},React.createElement(Row,null,React.createElement(TextInput,{s:12,l:2,m:2,xl:2,label:\"Name\",name:\"name\",value:contact.name,required:true,onChange:this.handleInputChange}),React.createElement(TextInput,{s:12,l:3,m:3,xl:3,label:\"Phone\",name:\"phone\",value:contact.phone,required:true,onChange:this.handleInputChange}),React.createElement(TextInput,{s:12,l:3,m:3,xl:3,label:\"Email\",email:true,validate:true,value:contact.email,name:\"email\",onChange:this.handleInputChange}),React.createElement(Button,{l:1,m:1,xl:1,node:\"button\",type:\"submit\",waves:\"light\",style:{marginTop:\"20px\"},disabled:!edited,className:edited?'gradient-btn btn-green':'gradient-btn'},\"Save\",React.createElement(Icon,{left:true},\"save\")),React.createElement(Button,{l:1,m:1,xl:1,node:\"button\",type:\"reset\",waves:\"light\",style:{marginTop:\"20px\",marginLeft:\"10px\"},onClick:this.handleCancel,className:\"gradient-btn btn-white\"},\"Cancel\"))));}}]);return EditContactForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{};};var mapDispatchToProps={};export default connect(mapStateToProps,mapDispatchToProps)(EditContactForm);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/contact/EditContactForm.jsx"],"names":["React","Component","connect","TextInput","Row","Icon","Button","Loading","API","formatPhone","EditContactForm","state","handleUpdateContact","e","preventDefault","contact","patch","_id","then","response","props","updateContact","data","closeEditContact","catch","error","console","log","handleInputChange","field","target","name","value","phone","email","setState","edited","handleCancel","prevProps","marginTop","marginLeft","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { TextInput, Row, Icon, Button } from \"react-materialize\";\r\nimport Loading from \"../loading/Loading\";\r\nimport API from \"../../utils/API/API\";\r\nimport formatPhone from \"../../utils/commons/FormatPhone\";\r\n\r\nclass EditContactForm extends Component {\r\n    state = {};\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            contact: this.props.contact,\r\n            edited: false\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.contact._id !== this.props.contact._id) {\r\n            this.setState({\r\n                contact: this.props.contact\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateContact = e => {\r\n        e.preventDefault();\r\n        const contact = this.state.contact;\r\n        API.patch(`contacts/${contact._id}`, contact)\r\n            .then(response => {\r\n                this.props.updateContact(response.data);\r\n                this.props.closeEditContact();\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        const field = e.target.name;\r\n        let value = e.target.value;\r\n\r\n        if (field === \"phone\") {\r\n            value = formatPhone(value);\r\n        }\r\n\r\n        let contact = {\r\n            _id: this.state.contact._id,\r\n            name: this.state.contact.name,\r\n            phone: this.state.contact.phone,\r\n            email: this.state.contact.email,\r\n            [field]: value\r\n        };\r\n        this.setState({\r\n            contact,\r\n            edited: true\r\n        });\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.props.closeEditContact()\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.contact) {\r\n            return <Loading />;\r\n        }\r\n        const { contact, edited } = this.state;\r\n\r\n        return (\r\n            <div className=\"animated bounceInLeft \">\r\n                <form onSubmit={this.handleUpdateContact}>\r\n                    <Row>\r\n                        <TextInput\r\n                            s={12}\r\n                            l={2}\r\n                            m={2}\r\n                            xl={2}\r\n                            label='Name'\r\n                            name='name'\r\n                            value={contact.name}\r\n                            required\r\n                            onChange={this.handleInputChange}\r\n                        />\r\n                        <TextInput\r\n                            s={12}\r\n                            l={3}\r\n                            m={3}\r\n                            xl={3}\r\n                            label='Phone'\r\n                            name='phone'\r\n                            value={contact.phone}\r\n                            required\r\n                            onChange={this.handleInputChange}\r\n                        />\r\n                        <TextInput\r\n                            s={12}\r\n                            l={3}\r\n                            m={3}\r\n                            xl={3}\r\n                            label='Email'\r\n                            email\r\n                            validate\r\n                            value={contact.email}\r\n                            name='email'\r\n                            onChange={this.handleInputChange}\r\n                        />\r\n                        <Button\r\n\r\n                            l={1}\r\n                            m={1}\r\n                            xl={1}\r\n                            node='button'\r\n                            type='submit'\r\n                            waves='light'\r\n                            style={{ marginTop: \"20px\" }}\r\n                            disabled={!edited}\r\n                            className={edited ? 'gradient-btn btn-green': 'gradient-btn'}\r\n                        >\r\n                            Save\r\n                            <Icon left>save</Icon>\r\n                        </Button>\r\n                        <Button\r\n                            l={1}\r\n                            m={1}\r\n                            xl={1}\r\n                            node='button'\r\n                            type='reset'\r\n                            waves='light'\r\n                            style={{ marginTop: \"20px\", marginLeft:\"10px\" }}\r\n                            onClick={this.handleCancel}\r\n                            className='gradient-btn btn-white'\r\n                        >\r\n                            Cancel\r\n\r\n                        </Button>\r\n                    </Row>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditContactForm);\r\n"]},"metadata":{},"sourceType":"module"}