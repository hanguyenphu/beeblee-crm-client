{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{TextInput,Row,Col,Button,Icon}from\"react-materialize\";import Loading from\"../loading/Loading\";import API from\"../../utils/API/API\";import{authenticate as _authenticate}from\"../../redux/actions/index\";import{connect}from\"react-redux\";function mapDispatchToProps(dispatch){return{authenticate:function authenticate(authenticated){return dispatch(_authenticate(authenticated));}};}var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleChange=function(e){_this.setState(_objectSpread({},_this.state,_defineProperty({},e.target.name,e.target.value)));};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,email=_this$state.email,password=_this$state.password;_this.setState(_objectSpread({},_this.state,{errorMessage:\"\"}));API.post(\"users/login\",{email:email,password:password}).then(function(response){response.data.user.authenticated=true;localStorage.setItem(\"token\",response.data.token);if(response.data){response.data.authenticated=true;_this.props.authenticate(response.data);}}).catch(function(error){_this.setState({errorMessage:\"Incorrect Email or Password\",loading:false});});};_this.state={email:\"\",password:\"\",loading:false,errorMessage:\"\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,loading=_this$state2.loading,errorMessage=_this$state2.errorMessage;return React.createElement(\"div\",{className:\"radius-corner\",style:{marginTop:\"70px\",backgroundColor:\"white\",padding:\"20px\",boxShadow:\"1px 1px 1px #9E9E9E\"}},React.createElement(Row,null,React.createElement(Col,{m:5,x:5,l:5}),React.createElement(Col,{m:2,s:12},React.createElement(\"h3\",null,\" Login\")),React.createElement(Col,{m:5,x:5,l:5})),React.createElement(Row,{className:\"animated bounceInRight\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(TextInput,{m:12,x:12,l:12,s:12,name:\"email\",value:email,email:true,label:\"Email\",validate:true,required:true,onChange:this.handleChange}),React.createElement(TextInput,{m:12,x:12,l:12,s:12,label:\"Password\",name:\"password\",value:password,password:true,required:true,onChange:this.handleChange}),!loading?React.createElement(Button,{node:\"button\",waves:\"light\",className:\"gradient-btn btn-blue\"},\"Login\",React.createElement(Icon,{right:true},\"send\")):React.createElement(Loading,null)),errorMessage&&React.createElement(\"div\",{className:\"red-text text-accent-2 animated shake\"},React.createElement(\"p\",null,\" \",errorMessage)),React.createElement(\"br\",null)));}}]);return Login;}(Component);export default connect(null,mapDispatchToProps)(Login);// export default Login","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/login/Login.jsx"],"names":["React","Component","TextInput","Row","Col","Button","Icon","Loading","API","authenticate","connect","mapDispatchToProps","dispatch","authenticated","Login","props","handleChange","e","setState","state","target","name","value","handleSubmit","preventDefault","email","password","errorMessage","post","then","response","data","user","localStorage","setItem","token","catch","error","loading","marginTop","backgroundColor","padding","boxShadow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { TextInput, Row, Col, Button, Icon } from \"react-materialize\";\r\nimport Loading from \"../loading/Loading\";\r\nimport API from \"../../utils/API/API\";\r\nimport { authenticate } from \"../../redux/actions/index\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    authenticate: authenticated => dispatch(authenticate(authenticated))\r\n  };\r\n}\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      errorMessage: \"\"\r\n    };\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      ...this.state,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { email, password } = this.state;\r\n    this.setState({\r\n      ...this.state,\r\n      errorMessage: \"\"\r\n    });\r\n    API.post(`users/login`, {\r\n      email,\r\n      password\r\n    })\r\n      .then(response => {\r\n        response.data.user.authenticated = true;\r\n        localStorage.setItem(\"token\", response.data.token);\r\n        if (response.data) {\r\n          response.data.authenticated = true;\r\n          this.props.authenticate(response.data);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          errorMessage: \"Incorrect Email or Password\",\r\n          loading: false\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, loading, errorMessage } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"radius-corner\"\r\n        style={{\r\n          marginTop: \"70px\",\r\n          backgroundColor: \"white\",\r\n          padding: \"20px\",\r\n          boxShadow: \"1px 1px 1px #9E9E9E\"\r\n        }}\r\n      >\r\n        <Row>\r\n          <Col m={5} x={5} l={5}></Col>\r\n          <Col m={2} s={12}>\r\n            <h3> Login</h3>\r\n          </Col>\r\n          <Col m={5} x={5} l={5}></Col>\r\n        </Row>\r\n        <Row className=\"animated bounceInRight\">\r\n          <form onSubmit={this.handleSubmit}>\r\n            <TextInput\r\n              m={12}\r\n              x={12}\r\n              l={12}\r\n              s={12}\r\n              name=\"email\"\r\n              value={email}\r\n              email\r\n              label=\"Email\"\r\n              validate\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextInput\r\n              m={12}\r\n              x={12}\r\n              l={12}\r\n              s={12}\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              value={password}\r\n              password\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n\r\n            {!loading ? (\r\n              <Button\r\n                node=\"button\"\r\n                waves=\"light\"\r\n                className=\"gradient-btn btn-blue\"\r\n              >\r\n                Login\r\n                <Icon right>send</Icon>\r\n              </Button>\r\n            ) : (\r\n              <Loading />\r\n            )}\r\n          </form>\r\n          {errorMessage && (\r\n            <div className=\"red-text text-accent-2 animated shake\">\r\n              <p> {errorMessage}</p>\r\n            </div>\r\n          )}\r\n          <br />\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n// export default Login\r\n"]},"metadata":{},"sourceType":"module"}