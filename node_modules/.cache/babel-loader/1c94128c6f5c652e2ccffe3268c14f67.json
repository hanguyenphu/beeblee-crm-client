{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Row,TextInput,Button}from\"react-materialize\";import API from\"../../utils/API/API\";import Loading from\"../loading/Loading\";function mapStateToProps(state){return{};}var UploadForm=/*#__PURE__*/function(_Component){_inherits(UploadForm,_Component);function UploadForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,UploadForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UploadForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={upload:{title:\"\",description:\"\",file:null},edited:false,loading:false,successMessage:\"\",errorMessage:\"\"};_this.handleSubmit=function(e){e.preventDefault();_this.setState({loading:true});var upload=_this.state.upload;var projectId=_this.props.projectId;var data=new FormData();data.append(\"file\",upload.file);data.append(\"title\",upload.title);data.append(\"description\",upload.description);API.post(\"/uploads/\".concat(projectId),data).then(function(response){_this.setState({successMessage:\"File Upload Successfully\",errorMessage:\"\",loading:false});_this.props.getProjectDetail();}).catch(function(error){_this.setState({successMessage:\"\",loading:false,errorMessage:\"Errors have been occurred!\"});});};_this.handleChange=function(e){var field=e.target.name;var upload=_this.state.upload;if(field===\"file\"){upload.file=e.target.files[0];}else{upload[field]=e.target.value;}_this.setState({upload:upload,edited:true});};return _this;}_createClass(UploadForm,[{key:\"render\",value:function render(){var _this$state=this.state,edited=_this$state.edited,loading=_this$state.loading;return React.createElement(\"div\",null,React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(Row,null,React.createElement(TextInput,{s:12,l:6,m:6,xl:6,label:\"Title:\",name:\"title\"//   value={account.domain}\n,onChange:this.handleChange,required:true}),React.createElement(TextInput,{s:12,l:6,m:6,xl:6,label:\"Description:\",name:\"description\"//   value={account.domain}\n,onChange:this.handleChange}),React.createElement(TextInput,{s:12,l:12,m:12,xl:12,label:\"Select File\",type:\"file\",name:\"file\",onChange:this.handleChange})),React.createElement(Row,null,React.createElement(Button,{node:\"button\",className:edited?\"gradient-btn btn-primary\":\"\",waves:\"green\",disabled:!edited},\"Submit\"))),loading&&React.createElement(Row,null,React.createElement(Loading,null)),React.createElement(Row,null,this.state.successMessage&&React.createElement(Row,{className:\"animated shake\"},React.createElement(\"p\",{className:\"green-text animated bounceOutLeft delay-3s\"},this.state.successMessage)),this.state.errorMessage&&React.createElement(Row,{className:\"animated rubberBand\"},React.createElement(\"p\",{className:\"red-text animated bounceOutLeft delay-3s \"},this.state.errorMessage))));}}]);return UploadForm;}(Component);export default connect(mapStateToProps)(UploadForm);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/upload/UploadForm.jsx"],"names":["React","Component","connect","Row","TextInput","Button","API","Loading","mapStateToProps","state","UploadForm","upload","title","description","file","edited","loading","successMessage","errorMessage","handleSubmit","e","preventDefault","setState","projectId","props","data","FormData","append","post","then","response","getProjectDetail","catch","error","handleChange","field","target","name","files","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, TextInput, Button } from \"react-materialize\";\r\nimport API from \"../../utils/API/API\";\r\nimport Loading from \"../loading/Loading\";\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nclass UploadForm extends Component {\r\n  state = {\r\n    upload: {\r\n      title: \"\",\r\n      description: \"\",\r\n      file: null\r\n    },\r\n    edited: false,\r\n    loading: false,\r\n    successMessage: \"\",\r\n    errorMessage: \"\"\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    const { upload } = this.state;\r\n    const { projectId } = this.props;\r\n    let data = new FormData();\r\n    data.append(\"file\", upload.file);\r\n    data.append(\"title\", upload.title);\r\n    data.append(\"description\", upload.description);\r\n    API.post(`/uploads/${projectId}`, data)\r\n      .then(response => {\r\n        this.setState({\r\n          successMessage: \"File Upload Successfully\",\r\n          errorMessage: \"\",\r\n          loading: false\r\n        });\r\n        this.props.getProjectDetail();\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          successMessage: \"\",\r\n          loading: false,\r\n          errorMessage: \"Errors have been occurred!\"\r\n        });\r\n      });\r\n  };\r\n  handleChange = e => {\r\n    const field = e.target.name;\r\n    let upload = this.state.upload;\r\n    if (field === \"file\") {\r\n      upload.file = e.target.files[0];\r\n    } else {\r\n      upload[field] = e.target.value;\r\n    }\r\n    this.setState({\r\n      upload,\r\n      edited: true\r\n    });\r\n  };\r\n  render() {\r\n    const { edited, loading } = this.state;\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Row>\r\n            <TextInput\r\n              s={12}\r\n              l={6}\r\n              m={6}\r\n              xl={6}\r\n              label=\"Title:\"\r\n              name=\"title\"\r\n              //   value={account.domain}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <TextInput\r\n              s={12}\r\n              l={6}\r\n              m={6}\r\n              xl={6}\r\n              label=\"Description:\"\r\n              name=\"description\"\r\n              //   value={account.domain}\r\n              onChange={this.handleChange}\r\n            />\r\n            <TextInput\r\n              s={12}\r\n              l={12}\r\n              m={12}\r\n              xl={12}\r\n              label=\"Select File\"\r\n              type=\"file\"\r\n              name=\"file\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <Button\r\n              node=\"button\"\r\n              className={edited ? \"gradient-btn btn-primary\" : \"\"}\r\n              waves=\"green\"\r\n              disabled={!edited}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Row>\r\n        </form>\r\n        {loading && (\r\n          <Row>\r\n            <Loading />\r\n          </Row>\r\n        )}\r\n        <Row>\r\n          {this.state.successMessage && (\r\n            <Row className=\"animated shake\">\r\n              <p className=\"green-text animated bounceOutLeft delay-3s\">\r\n                {this.state.successMessage}\r\n              </p>\r\n            </Row>\r\n          )}\r\n          {this.state.errorMessage && (\r\n            <Row className=\"animated rubberBand\">\r\n              <p className=\"red-text animated bounceOutLeft delay-3s \">\r\n                {this.state.errorMessage}\r\n              </p>\r\n            </Row>\r\n          )}\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(UploadForm);\r\n"]},"metadata":{},"sourceType":"module"}