{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import API from\"../../utils/API/API\";import Loading from\"../loading/Loading\";import ProjectTable from\"./ProjectTable\";import{Row,Pagination,Icon,Col}from\"react-materialize\";import ProjectFilter from\"./ProjectFilter\";function mapStateToProps(state){return{};}var Project=/*#__PURE__*/function(_Component){_inherits(Project,_Component);function Project(){var _getPrototypeOf2;var _this;_classCallCheck(this,Project);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Project)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,pageNo:1,totalProjects:0};_this.getProjects=function(pageNo){API.get(\"/projects?pageNo=\".concat(pageNo)).then(function(response){_this.setState({loading:false,projects:response.data.projects,totalProjects:response.data.count});}).catch(function(error){_this.props.history.push(\"/notfound\");});};_this.searchData=function(newData,count){_this.setState({projects:newData,totalProjects:count});};_this.resetFilter=function(e){_this.getProjects(1);};_this.setPageNumber=function(pageNo){_this.setState({pageNo:pageNo});_this.getProjects(pageNo);};return _this;}_createClass(Project,[{key:\"componentDidMount\",value:function componentDidMount(){var pageNo=this.state.pageNo;this.getProjects(pageNo);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,loading=_this$state.loading,projects=_this$state.projects,pageNo=_this$state.pageNo,totalProjects=_this$state.totalProjects;if(loading){return React.createElement(Loading,null);}return React.createElement(\"div\",null,React.createElement(Row,{style:{marginTop:\"20px\"}}),React.createElement(Row,null,React.createElement(Col,null,React.createElement(\"h5\",null,React.createElement(Icon,null,\"assignment_turned_in\"),\" All Projects\"))),React.createElement(ProjectFilter,{searchData:this.searchData,resetFilter:this.resetFilter}),React.createElement(Row,{className:\" radius-corner\",style:{backgroundColor:\"white\",padding:\"20px\",boxShadow:\"1px 1px 1px #9E9E9E\"}},React.createElement(Row,{style:{textAlign:\"center\"}},React.createElement(Pagination,{activePage:pageNo,items:parseInt(totalProjects/10+1),leftBtn:React.createElement(Icon,null,\"chevron_left\"),maxButtons:3,rightBtn:React.createElement(Icon,null,\"chevron_right\"),onSelect:function onSelect(pageNumber){_this2.setPageNumber(pageNumber);}})),React.createElement(ProjectTable,{projects:projects})));}}]);return Project;}(Component);export default connect(mapStateToProps)(Project);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/projects/Project.jsx"],"names":["React","Component","connect","API","Loading","ProjectTable","Row","Pagination","Icon","Col","ProjectFilter","mapStateToProps","state","Project","loading","pageNo","totalProjects","getProjects","get","then","response","setState","projects","data","count","catch","error","props","history","push","searchData","newData","resetFilter","e","setPageNumber","marginTop","backgroundColor","padding","boxShadow","textAlign","parseInt","pageNumber"],"mappings":"oyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,GAAT,CAAcC,UAAd,CAA0BC,IAA1B,CAAgCC,GAAhC,KAA2C,mBAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,EAAP,CACD,C,GAEKC,CAAAA,O,mYACJD,K,CAAQ,CACNE,OAAO,CAAE,IADH,CAENC,MAAM,CAAE,CAFF,CAGNC,aAAa,CAAE,CAHT,C,OAURC,W,CAAc,SAAAF,MAAM,CAAI,CACtBZ,GAAG,CAACe,GAAJ,4BAA4BH,MAA5B,GACGI,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,MAAKC,QAAL,CAAc,CACZP,OAAO,CAAE,KADG,CAEZQ,QAAQ,CAAEF,QAAQ,CAACG,IAAT,CAAcD,QAFZ,CAGZN,aAAa,CAAEI,QAAQ,CAACG,IAAT,CAAcC,KAHjB,CAAd,EAKD,CAPH,EAQGC,KARH,CAQS,SAAAC,KAAK,CAAI,CACd,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACD,CAVH,EAWD,C,OAGDC,U,CAAa,SAACC,OAAD,CAAUP,KAAV,CAAoB,CAC/B,MAAKH,QAAL,CAAc,CACZC,QAAQ,CAAES,OADE,CAEZf,aAAa,CAACQ,KAFF,CAAd,EAID,C,OAGDQ,W,CAAc,SAAAC,CAAC,CAAI,CACjB,MAAKhB,WAAL,CAAiB,CAAjB,EACD,C,OAEDiB,a,CAAgB,SAAAnB,MAAM,CAAI,CACxB,MAAKM,QAAL,CAAc,CACZN,MAAM,CAANA,MADY,CAAd,EAGA,MAAKE,WAAL,CAAiBF,MAAjB,EACD,C,gGArCmB,IACVA,CAAAA,MADU,CACC,KAAKH,KADN,CACVG,MADU,CAElB,KAAKE,WAAL,CAAiBF,MAAjB,EACD,C,uCAoCQ,iCAC8C,KAAKH,KADnD,CACCE,OADD,aACCA,OADD,CACUQ,QADV,aACUA,QADV,CACoBP,MADpB,aACoBA,MADpB,CAC4BC,aAD5B,aAC4BA,aAD5B,CAEP,GAAIF,OAAJ,CAAa,CACX,MAAO,qBAAC,OAAD,MAAP,CACD,CAED,MACE,gCACE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEqB,SAAS,CAAE,MAAb,CAAZ,EADF,CAEE,oBAAC,GAAD,MACE,oBAAC,GAAD,MACE,8BAAI,oBAAC,IAAD,6BAAJ,iBADF,CADF,CAFF,CAQE,oBAAC,aAAD,EAAe,UAAU,CAAE,KAAKL,UAAhC,CAA4C,WAAW,CAAE,KAAKE,WAA9D,EARF,CASE,oBAAC,GAAD,EACE,SAAS,CAAC,gBADZ,CAEE,KAAK,CAAE,CACLI,eAAe,CAAE,OADZ,CAELC,OAAO,CAAE,MAFJ,CAGLC,SAAS,CAAE,qBAHN,CAFT,EAQE,oBAAC,GAAD,EAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAZ,EACE,oBAAC,UAAD,EACE,UAAU,CAAExB,MADd,CAEE,KAAK,CAAEyB,QAAQ,CAACxB,aAAa,CAAG,EAAhB,CAAoB,CAArB,CAFjB,CAGE,OAAO,CAAE,oBAAC,IAAD,qBAHX,CAIE,UAAU,CAAE,CAJd,CAKE,QAAQ,CAAE,oBAAC,IAAD,sBALZ,CAME,QAAQ,CAAE,kBAAAyB,UAAU,CAAI,CACtB,MAAI,CAACP,aAAL,CAAmBO,UAAnB,EACD,CARH,EADF,CARF,CAoBE,oBAAC,YAAD,EAAc,QAAQ,CAAEnB,QAAxB,EApBF,CATF,CADF,CAkCD,C,qBArFmBrB,S,EAwFtB,cAAeC,CAAAA,OAAO,CAACS,eAAD,CAAP,CAAyBE,OAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport API from \"../../utils/API/API\";\r\nimport Loading from \"../loading/Loading\";\r\nimport ProjectTable from \"./ProjectTable\";\r\nimport { Row, Pagination, Icon, Col } from \"react-materialize\";\r\nimport ProjectFilter from \"./ProjectFilter\";\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nclass Project extends Component {\r\n  state = {\r\n    loading: true,\r\n    pageNo: 1,\r\n    totalProjects: 0\r\n  };\r\n  componentDidMount() {\r\n    const { pageNo } = this.state;\r\n    this.getProjects(pageNo)\r\n  }\r\n\r\n  getProjects = pageNo => {\r\n    API.get(`/projects?pageNo=${pageNo}`)\r\n      .then(response => {\r\n        this.setState({\r\n          loading: false,\r\n          projects: response.data.projects,\r\n          totalProjects: response.data.count\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.props.history.push(\"/notfound\");\r\n      });\r\n  };\r\n\r\n  //get the new data from ProjectFilter Component and display search result\r\n  searchData = (newData, count) => {\r\n    this.setState({\r\n      projects: newData,\r\n      totalProjects:count\r\n    })\r\n  }\r\n\r\n  //Reset filter project\r\n  resetFilter = e => {\r\n    this.getProjects(1)\r\n  }\r\n\r\n  setPageNumber = pageNo => {\r\n    this.setState({\r\n      pageNo\r\n    });\r\n    this.getProjects(pageNo);\r\n  };\r\n\r\n  render() {\r\n    const { loading, projects, pageNo, totalProjects } = this.state;\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Row style={{ marginTop: \"20px\" }}></Row>\r\n        <Row>\r\n          <Col>\r\n            <h5><Icon>assignment_turned_in</Icon> All Projects</h5>\r\n          </Col>\r\n        </Row>\r\n\r\n        <ProjectFilter searchData={this.searchData} resetFilter={this.resetFilter}/>\r\n        <Row\r\n          className=\" radius-corner\"\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            boxShadow: \"1px 1px 1px #9E9E9E\"\r\n          }}\r\n        >\r\n          <Row style={{ textAlign: \"center\" }}>\r\n            <Pagination\r\n              activePage={pageNo}\r\n              items={parseInt(totalProjects / 10 +1)}\r\n              leftBtn={<Icon>chevron_left</Icon>}\r\n              maxButtons={3}\r\n              rightBtn={<Icon>chevron_right</Icon>}\r\n              onSelect={pageNumber => {\r\n                this.setPageNumber(pageNumber);\r\n              }}\r\n            />\r\n          </Row>\r\n          <ProjectTable projects={projects} />\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Project);\r\n"]},"metadata":{},"sourceType":"module"}