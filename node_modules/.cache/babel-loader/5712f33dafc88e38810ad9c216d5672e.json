{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Modal,Button}from\"react-materialize\";import API from\"../../../utils/API/API\";import Loading from\"../../loading/Loading\";import ContributorForm from\"./ContributorForm\";function mapStateToProps(state){return{};}var EditContributorsModal=/*#__PURE__*/function(_Component){_inherits(EditContributorsModal,_Component);function EditContributorsModal(){var _getPrototypeOf2;var _this;_classCallCheck(this,EditContributorsModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EditContributorsModal)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={users:[],contributors:[]};_this.getContributors=function(users){var project=_this.props.project;var contributors=users.filter(function(user){return project.contributors.includes(user._id);});return contributors;};_this.getUsers=function(){API.get(\"/admin/users\").then(function(response){var users=response.data;var project=_this.props.project;var contributors=users.filter(function(user){return project.contributors.includes(user._id);});_this.setState({users:users,contributors:contributors,loading:false});}).catch(function(error){_this.setState({loading:true});_this.props.history.push(\"/notfound\");});};return _this;}_createClass(EditContributorsModal,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUsers();}},{key:\"render\",value:function render(){var project=this.props.project;var _this$state=this.state,users=_this$state.users,loading=_this$state.loading,contributors=_this$state.contributors;if(loading){return React.createElement(Loading,null);}return React.createElement(\"div\",null,React.createElement(Modal,{actions:[React.createElement(Button,{flat:true,modal:\"close\",node:\"button\",waves:\"green\"},\"Close\")],bottomSheet:false,fixedFooter:true,header:\"Edit Contributors\",id:\"modal-0\",open:true,options:{dismissible:true,endingTop:\"10%\",inDuration:250,onCloseEnd:this.props.closeEditContributorsModal,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:0.5,outDuration:250,preventScrolling:true,startingTop:\"4%\"}},contributors&&React.createElement(ContributorForm,{contributors:contributors,users:users,project:project,updateData:this.props.updateData})));}}]);return EditContributorsModal;}(Component);export default connect(mapStateToProps)(EditContributorsModal);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/admin/project/EditContributorsModal.jsx"],"names":["React","Component","connect","Modal","Button","API","Loading","ContributorForm","mapStateToProps","state","EditContributorsModal","users","contributors","getContributors","project","props","filter","user","includes","_id","getUsers","get","then","response","data","setState","loading","catch","error","history","push","dismissible","endingTop","inDuration","onCloseEnd","closeEditContributorsModal","onCloseStart","onOpenEnd","onOpenStart","opacity","outDuration","preventScrolling","startingTop","updateData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button } from \"react-materialize\";\r\nimport API from \"../../../utils/API/API\";\r\nimport Loading from \"../../loading/Loading\";\r\nimport ContributorForm from \"./ContributorForm\";\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nclass EditContributorsModal extends Component {\r\n  state = {\r\n    users: [],\r\n    contributors: []\r\n  };\r\n  componentDidMount() {\r\n\r\n    this.getUsers();\r\n  }\r\n\r\n  getContributors = users => {\r\n    const { project } = this.props;\r\n    const contributors = users.filter(user =>\r\n      project.contributors.includes(user._id)\r\n    );\r\n    return contributors;\r\n  };\r\n\r\n  getUsers = () => {\r\n    API.get(`/admin/users`)\r\n      .then(response => {\r\n          const users = response.data\r\n          const { project } = this.props;\r\n          const contributors = users.filter(user =>\r\n            project.contributors.includes(user._id)\r\n          );\r\n        this.setState({\r\n          users,\r\n          contributors,\r\n          loading: false\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          loading: true\r\n        });\r\n        this.props.history.push(\"/notfound\");\r\n      });\r\n  };\r\n  render() {\r\n    const { project } = this.props;\r\n    const { users, loading, contributors } = this.state;\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n    return (\r\n      <div>\r\n        <Modal\r\n          actions={[\r\n            <Button flat modal=\"close\" node=\"button\" waves=\"green\">\r\n              Close\r\n            </Button>\r\n          ]}\r\n          bottomSheet={false}\r\n          fixedFooter={true}\r\n          header=\"Edit Contributors\"\r\n          id=\"modal-0\"\r\n          open={true}\r\n          options={{\r\n            dismissible: true,\r\n            endingTop: \"10%\",\r\n            inDuration: 250,\r\n            onCloseEnd: this.props.closeEditContributorsModal,\r\n            onCloseStart: null,\r\n            onOpenEnd: null,\r\n            onOpenStart: null,\r\n            opacity: 0.5,\r\n            outDuration: 250,\r\n            preventScrolling: true,\r\n            startingTop: \"4%\"\r\n          }}\r\n        >\r\n          {contributors && <ContributorForm contributors={contributors} users={users} project={project} updateData={this.props.updateData}/>}\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(EditContributorsModal);\r\n"]},"metadata":{},"sourceType":"module"}