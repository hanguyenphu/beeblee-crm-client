{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\beeblee-crm-client\\\\src\\\\features\\\\business\\\\Business.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Col, Row, Table, TextInput, Select, Icon, Button, Pagination } from \"react-materialize\";\nimport Loading from \"../loading/Loading\";\nimport axios from \"axios\";\nimport { fetch_province, fetch_business } from \"../../redux/actions/index\";\nimport BusinessModalDetail from \"./BusinessModalDetail\";\nimport API from \"../../utils/API/API\";\nimport formatPhone from \"../../utils/commons/FormatPhone\";\nimport CreateBusinessModal from \"./CreateBusinessModal\";\nimport { Link } from \"react-router-dom\";\nimport ProvinceDropdown from \"../common/ProvinceDropdown\";\n\nconst mapStateToProps = state => {\n  return {\n    provinces: state.provinces\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addProvinceToRedux: provinces => dispatch(fetch_province(provinces)),\n    addBusinessesToRedux: businesses => dispatch(fetch_business(businesses))\n  };\n}\n\nclass Business extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getDataForPagination = pageNumber => {\n      API.get(`businesses?pageNo=${pageNumber}`).then(response => {\n        this.setState(_objectSpread({}, this.state, {\n          businesses: response.data.businesses,\n          businessCount: response.data.count\n        }));\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getData = () => {\n      const getProvinceRequest = API.get(\"provinces\");\n      const getBusinessRequest = API.get(\"businesses?pageNo=1\");\n      axios.all([getProvinceRequest, getBusinessRequest]).then(axios.spread((...responses) => {\n        const provinces = responses[0].data;\n        const businesses = responses[1].data.businesses;\n        const businessCount = responses[1].data.count;\n        this.setState({\n          provinces,\n          businesses,\n          businessCount,\n          loading: false\n        }); //Save data in redux for later usage\n\n        this.props.addProvinceToRedux(provinces);\n        this.props.addBusinessesToRedux(businesses);\n      })).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.handleInputChange = e => {\n      const searchBy = _objectSpread({}, this.state.searchBy);\n\n      const field = e.target.name;\n      let value = e.target.value;\n\n      if (field === \"phone\") {\n        value = formatPhone(value);\n      }\n\n      searchBy[field] = value;\n      this.setState(_objectSpread({}, this.state, {\n        searchBy\n      }));\n    };\n\n    this.getProvinceName = _id => {\n      const provinces = this.state.provinces;\n      const foundProvince = provinces.filter(province => province._id === _id);\n      return foundProvince[0].name;\n    };\n\n    this.handleOpenModal = business => () => {\n      this.setState({\n        business\n      });\n    };\n\n    this.handleFilter = e => {\n      e.preventDefault();\n      let businesses = [];\n      API.get('/search/businesses').then(response => {\n        businesses = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n      const fields = Object.keys(this.state.searchBy);\n      fields.forEach(field => {\n        businesses = this.filterByField(this.state.searchBy[field], field, businesses);\n      });\n      this.setState(_objectSpread({}, this.state, {\n        search: true,\n        results: businesses\n      }));\n    };\n\n    this.handleResetFilter = e => {\n      e.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        searchBy: {\n          name: \"\",\n          phone: \"\",\n          province: \"\"\n        },\n        search: false\n      }));\n    };\n\n    this.handleCreateModel = () => {\n      this.setState(_objectSpread({}, this.state, {\n        openCreateModal: true\n      }));\n    };\n\n    this.closeCreateModal = () => {\n      this.setState({\n        openCreateModal: false\n      });\n    };\n\n    this.state = {\n      searchBy: {\n        name: \"\",\n        phone: \"\",\n        province: \"\"\n      },\n      provinces: [],\n      loading: true,\n      search: false,\n      openCreateModal: false,\n      currentPage: 1\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  filterByField(searchText, field, array) {\n    let results = array.filter(item => item[field].replace(/\\s/g, \"\").toLowerCase().includes(searchText.replace(/\\s/g, \"\").toLowerCase()));\n    return results;\n  }\n\n  render() {\n    const _this$state$searchBy = this.state.searchBy,\n          name = _this$state$searchBy.name,\n          phone = _this$state$searchBy.phone,\n          province = _this$state$searchBy.province;\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          provinces = _this$state.provinces,\n          business = _this$state.business,\n          search = _this$state.search,\n          openCreateModal = _this$state.openCreateModal,\n          businessCount = _this$state.businessCount,\n          currentPage = _this$state.currentPage;\n\n    if (loading) {\n      return React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      });\n    } //Get the set of search otherwise display all businesses\n\n\n    let businesses = search ? this.state.results : this.state.businesses;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        marginTop: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Businesses\", \" \", React.createElement(Button, {\n      node: \"button\",\n      type: \"submit\",\n      waves: \"light\",\n      className: \"gradient-btn btn-red\",\n      onClick: this.handleCreateModel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Add\", React.createElement(Icon, {\n      left: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"add_box\"))))), React.createElement(Row, {\n      className: \" radius-corner\",\n      style: {\n        backgroundColor: \"white\",\n        padding: \"20px\",\n        boxShadow: \"1px 1px 1px #9E9E9E\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Filter by\"), React.createElement(Col, {\n      s: 12,\n      m: 12,\n      l: 12,\n      xl: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(TextInput, {\n      s: 12,\n      l: 4,\n      m: 4,\n      xl: 4,\n      label: \"Name\",\n      name: \"name\",\n      value: name,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(TextInput, {\n      s: 12,\n      l: 3,\n      m: 3,\n      xl: 3,\n      label: \"Phone\",\n      name: \"phone\",\n      value: phone,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(Select, {\n      onChange: this.handleInputChange,\n      options: {\n        classes: \"\",\n        dropdownOptions: {\n          alignment: \"left\",\n          autoTrigger: true,\n          closeOnClick: true,\n          constrainWidth: true,\n          container: null,\n          coverTrigger: true,\n          hover: false,\n          inDuration: 150,\n          onCloseEnd: null,\n          onCloseStart: null,\n          onOpenEnd: null,\n          onOpenStart: null,\n          outDuration: 250\n        }\n      },\n      value: province,\n      name: \"province\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Select Province\"), provinces.map(province => {\n      return React.createElement(\"option\", {\n        className: \"black-text\",\n        key: province._id,\n        value: province._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, province.name);\n    })), React.createElement(Button, {\n      className: \"gradient-btn btn-primary\",\n      node: \"button\",\n      onClick: this.handleFilter,\n      style: {\n        marginRight: \"5px\",\n        bottom: \"-20px\",\n        marginBottom: \"20px\"\n      },\n      waves: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Search\"), React.createElement(Button, {\n      node: \"button\",\n      className: \"gradient-btn btn-white\",\n      onClick: this.handleResetFilter,\n      style: {\n        marginRight: \"5px\",\n        bottom: \"-20px\",\n        marginBottom: \"20px\"\n      },\n      waves: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Reset\")))), React.createElement(Row, {\n      className: \"animated fadeInUp radius-corner\",\n      style: {\n        backgroundColor: \"white\",\n        padding: \"20px\",\n        boxShadow: \"1px 1px 1px #9E9E9E\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(Col, {\n      s: 12,\n      m: 12,\n      l: 12,\n      xl: 12,\n      style: {\n        marginTop: \"50px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, React.createElement(Row, {\n      style: {\n        margin: \"0px auto\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      activePage: currentPage,\n      items: businessCount / 5 + 1,\n      leftBtn: React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"chevron_left\"),\n      maxButtons: 3,\n      rightBtn: React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, \"chevron_right\"),\n      onSelect: pageNumber => {\n        this.getDataForPagination(pageNumber);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    })), React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      \"data-field\": \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      \"data-field\": \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"th\", {\n      \"data-field\": \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"Province\"), React.createElement(\"th\", {\n      \"data-field\": \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, \"Quick View\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, businesses.length > 0 ? businesses.map(business => {\n      return React.createElement(\"tr\", {\n        key: business._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/businesses/\" + business._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, business.name)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, business.phone), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, this.getProvinceName(business.province)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        onClick: this.handleOpenModal(business),\n        className: \"modal-trigger\",\n        href: \"#modal1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, \"launch\"))));\n    }) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, \"There is no business found!\")))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, business && React.createElement(BusinessModalDetail, {\n      business: business,\n      updateData: this.getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, openCreateModal && React.createElement(CreateBusinessModal, {\n      closeCreateModal: this.closeCreateModal,\n      updateData: this.getData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Business);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/business/Business.jsx"],"names":["React","Component","connect","Col","Row","Table","TextInput","Select","Icon","Button","Pagination","Loading","axios","fetch_province","fetch_business","BusinessModalDetail","API","formatPhone","CreateBusinessModal","Link","ProvinceDropdown","mapStateToProps","state","provinces","mapDispatchToProps","dispatch","addProvinceToRedux","addBusinessesToRedux","businesses","Business","constructor","props","getDataForPagination","pageNumber","get","then","response","setState","data","businessCount","count","catch","error","console","log","getData","getProvinceRequest","getBusinessRequest","all","spread","responses","loading","handleSubmit","e","preventDefault","handleInputChange","searchBy","field","target","name","value","getProvinceName","_id","foundProvince","filter","province","handleOpenModal","business","handleFilter","fields","Object","keys","forEach","filterByField","search","results","handleResetFilter","phone","handleCreateModel","openCreateModal","closeCreateModal","currentPage","componentDidMount","searchText","array","item","replace","toLowerCase","includes","render","marginTop","backgroundColor","padding","boxShadow","classes","dropdownOptions","alignment","autoTrigger","closeOnClick","constrainWidth","container","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","map","marginRight","bottom","marginBottom","margin","textAlign","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Col,\r\n  Row,\r\n  Table,\r\n  TextInput,\r\n  Select,\r\n  Icon,\r\n  Button,\r\n  Pagination\r\n} from \"react-materialize\";\r\nimport Loading from \"../loading/Loading\";\r\nimport axios from \"axios\";\r\nimport { fetch_province, fetch_business } from \"../../redux/actions/index\";\r\nimport BusinessModalDetail from \"./BusinessModalDetail\";\r\nimport API from \"../../utils/API/API\";\r\nimport formatPhone from \"../../utils/commons/FormatPhone\";\r\nimport CreateBusinessModal from \"./CreateBusinessModal\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProvinceDropdown from \"../common/ProvinceDropdown\";\r\n\r\nconst mapStateToProps = state => {\r\n  return { provinces: state.provinces };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addProvinceToRedux: provinces => dispatch(fetch_province(provinces)),\r\n    addBusinessesToRedux: businesses => dispatch(fetch_business(businesses))\r\n  };\r\n}\r\n\r\nclass Business extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchBy: {\r\n        name: \"\",\r\n        phone: \"\",\r\n        province: \"\"\r\n      },\r\n      provinces: [],\r\n      loading: true,\r\n      search: false,\r\n      openCreateModal: false,\r\n      currentPage: 1\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  filterByField(searchText, field, array) {\r\n    let results = array.filter(item =>\r\n      item[field]\r\n        .replace(/\\s/g, \"\")\r\n        .toLowerCase()\r\n        .includes(searchText.replace(/\\s/g, \"\").toLowerCase())\r\n    );\r\n    return results;\r\n  }\r\n\r\n  getDataForPagination = pageNumber => {\r\n    API.get(`businesses?pageNo=${pageNumber}`)\r\n      .then(response => {\r\n        this.setState({\r\n          ...this.state,\r\n          businesses: response.data.businesses,\r\n          businessCount: response.data.count\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  getData = () => {\r\n    const getProvinceRequest = API.get(\"provinces\");\r\n    const getBusinessRequest = API.get(\"businesses?pageNo=1\");\r\n    axios\r\n      .all([getProvinceRequest, getBusinessRequest])\r\n      .then(\r\n        axios.spread((...responses) => {\r\n          const provinces = responses[0].data;\r\n          const businesses = responses[1].data.businesses;\r\n          const businessCount = responses[1].data.count;\r\n\r\n          this.setState({\r\n            provinces,\r\n            businesses,\r\n            businessCount,\r\n            loading: false\r\n          });\r\n          //Save data in redux for later usage\r\n          this.props.addProvinceToRedux(provinces);\r\n          this.props.addBusinessesToRedux(businesses);\r\n        })\r\n      )\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const searchBy = { ...this.state.searchBy };\r\n    const field = e.target.name;\r\n    let value = e.target.value;\r\n    if (field === \"phone\") {\r\n      value = formatPhone(value);\r\n    }\r\n    searchBy[field] = value;\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      searchBy\r\n    });\r\n  };\r\n\r\n  getProvinceName = _id => {\r\n    const { provinces } = this.state;\r\n    const foundProvince = provinces.filter(province => province._id === _id);\r\n    return foundProvince[0].name;\r\n  };\r\n\r\n  handleOpenModal = business => () => {\r\n    this.setState({\r\n      business\r\n    });\r\n  };\r\n\r\n\r\n\r\n  handleFilter = e => {\r\n    e.preventDefault();\r\n\r\n    let businesses = [];\r\n\r\n    API.get('/search/businesses').then(response => {\r\n      businesses = response.data\r\n    }).catch(error => {\r\n      console.log(error)\r\n    })\r\n\r\n    const fields = Object.keys(this.state.searchBy);\r\n    fields.forEach(field => {\r\n      businesses = this.filterByField(\r\n        this.state.searchBy[field],\r\n        field,\r\n        businesses\r\n      );\r\n    });\r\n\r\n\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      search: true,\r\n      results: businesses\r\n    });\r\n  };\r\n\r\n  handleResetFilter = e => {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      searchBy: {\r\n        name: \"\",\r\n        phone: \"\",\r\n        province: \"\"\r\n      },\r\n      search: false\r\n    });\r\n  };\r\n\r\n  handleCreateModel = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      openCreateModal: true\r\n    });\r\n  };\r\n\r\n  closeCreateModal = () => {\r\n    this.setState({\r\n      openCreateModal: false\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { name, phone, province } = this.state.searchBy;\r\n    const {\r\n      loading,\r\n      provinces,\r\n      business,\r\n      search,\r\n      openCreateModal,\r\n      businessCount,\r\n      currentPage\r\n    } = this.state;\r\n\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n\r\n    //Get the set of search otherwise display all businesses\r\n    let businesses = search ? this.state.results : this.state.businesses;\r\n\r\n    return (\r\n      <div>\r\n        <Row style={{ marginTop: \"20px\" }}></Row>\r\n        <Row>\r\n          <Col>\r\n            <h5>\r\n              Businesses{\" \"}\r\n              <Button\r\n                node=\"button\"\r\n                type=\"submit\"\r\n                waves=\"light\"\r\n                className=\"gradient-btn btn-red\"\r\n                onClick={this.handleCreateModel}\r\n              >\r\n                Add\r\n                <Icon left>add_box</Icon>\r\n              </Button>\r\n            </h5>\r\n          </Col>\r\n        </Row>\r\n        <Row\r\n          className=\" radius-corner\"\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            boxShadow: \"1px 1px 1px #9E9E9E\"\r\n          }}\r\n        >\r\n          <form>\r\n            <h6>Filter by</h6>\r\n            <Col s={12} m={12} l={12} xl={12}>\r\n              <TextInput\r\n                s={12}\r\n                l={4}\r\n                m={4}\r\n                xl={4}\r\n                label=\"Name\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={this.handleInputChange}\r\n              />\r\n\r\n              <TextInput\r\n                s={12}\r\n                l={3}\r\n                m={3}\r\n                xl={3}\r\n                label=\"Phone\"\r\n                name=\"phone\"\r\n                value={phone}\r\n                onChange={this.handleInputChange}\r\n              />\r\n\r\n              <Select\r\n                onChange={this.handleInputChange}\r\n                options={{\r\n                  classes: \"\",\r\n                  dropdownOptions: {\r\n                    alignment: \"left\",\r\n                    autoTrigger: true,\r\n                    closeOnClick: true,\r\n                    constrainWidth: true,\r\n                    container: null,\r\n                    coverTrigger: true,\r\n                    hover: false,\r\n                    inDuration: 150,\r\n                    onCloseEnd: null,\r\n                    onCloseStart: null,\r\n                    onOpenEnd: null,\r\n                    onOpenStart: null,\r\n                    outDuration: 250\r\n                  }\r\n                }}\r\n                value={province}\r\n                name=\"province\"\r\n              >\r\n                <option disabled value=\"\">\r\n                  Select Province\r\n                </option>\r\n                {provinces.map(province => {\r\n                  return (\r\n                    <option\r\n                      className=\"black-text\"\r\n                      key={province._id}\r\n                      value={province._id}\r\n                    >\r\n                      {province.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </Select>\r\n              <Button\r\n                className=\"gradient-btn btn-primary\"\r\n                node=\"button\"\r\n                onClick={this.handleFilter}\r\n                style={{\r\n                  marginRight: \"5px\",\r\n                  bottom: \"-20px\",\r\n                  marginBottom: \"20px\"\r\n                }}\r\n                waves=\"light\"\r\n              >\r\n                Search\r\n              </Button>\r\n              <Button\r\n                node=\"button\"\r\n                className=\"gradient-btn btn-white\"\r\n                onClick={this.handleResetFilter}\r\n                style={{\r\n                  marginRight: \"5px\",\r\n                  bottom: \"-20px\",\r\n                  marginBottom: \"20px\"\r\n                }}\r\n                waves=\"light\"\r\n              >\r\n                Reset\r\n              </Button>\r\n            </Col>\r\n          </form>\r\n        </Row>\r\n        <Row\r\n          className=\"animated fadeInUp radius-corner\"\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            boxShadow: \"1px 1px 1px #9E9E9E\"\r\n          }}\r\n        >\r\n          <Col s={12} m={12} l={12} xl={12} style={{ marginTop: \"50px\" }}>\r\n            <Row style={{ margin: \"0px auto\", textAlign: \"center\" }}>\r\n              <Pagination\r\n                activePage={currentPage}\r\n                items={businessCount / 5 + 1}\r\n                leftBtn={<Icon>chevron_left</Icon>}\r\n                maxButtons={3}\r\n                rightBtn={<Icon>chevron_right</Icon>}\r\n                onSelect={pageNumber => {\r\n                  this.getDataForPagination(pageNumber);\r\n                }}\r\n              />\r\n            </Row>\r\n            <Table>\r\n              <thead>\r\n                <tr>\r\n                  <th data-field=\"id\">Name</th>\r\n                  <th data-field=\"price\">Phone</th>\r\n                  <th data-field=\"price\">Province</th>\r\n                  <th data-field=\"price\">Quick View</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {businesses.length > 0 ? (\r\n                  businesses.map(business => {\r\n                    return (\r\n                      <tr key={business._id}>\r\n                        <td>\r\n                          <Link to={\"/businesses/\" + business._id}>\r\n                            {business.name}\r\n                          </Link>\r\n                        </td>\r\n                        <td>{business.phone}</td>\r\n                        <td>{this.getProvinceName(business.province)}</td>\r\n                        <td>\r\n                          <a\r\n                            onClick={this.handleOpenModal(business)}\r\n                            className=\"modal-trigger\"\r\n                            href=\"#modal1\"\r\n                          >\r\n                            <Icon>launch</Icon>\r\n                          </a>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <td>There is no business found!</td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n\r\n        <div>\r\n          {business && (\r\n            <BusinessModalDetail\r\n              business={business}\r\n              updateData={this.getData}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          {openCreateModal && (\r\n            <CreateBusinessModal\r\n              closeCreateModal={this.closeCreateModal}\r\n              updateData={this.getData}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Business);\r\n"]},"metadata":{},"sourceType":"module"}