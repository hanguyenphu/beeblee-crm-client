{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Row,Col,Pagination,Icon}from\"react-materialize\";import ProjectTableAdmin from\"./ProjectTableAdmin\";import API from\"../../../utils/API/API\";import Loading from\"../../loading/Loading\";import ProjectFilter from\"../../projects/ProjectFilter\";function mapStateToProps(state){return{};}var ProjectContributors=/*#__PURE__*/function(_Component){_inherits(ProjectContributors,_Component);function ProjectContributors(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProjectContributors);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProjectContributors)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,pageNo:1,totalProjects:0};_this.setPageNumber=function(pageNo){_this.setState({pageNo:pageNo});_this.getProjects(pageNo);};_this.getProjects=function(pageNo){if(!pageNo){pageNo=_this.state.pageNo;}API.get(\"/projects?pageNo=\".concat(pageNo)).then(function(response){_this.setState({loading:false,projects:response.data.projects,totalProjects:response.data.count});}).catch(function(error){_this.props.history.push(\"/notfound\");});};_this.searchData=function(newData,count){_this.setState({projects:newData,totalProjects:count});};_this.resetFilter=function(e){_this.getProjects(1);};return _this;}_createClass(ProjectContributors,[{key:\"componentDidMount\",value:function componentDidMount(){var pageNo=this.state.pageNo;this.getProjects(pageNo);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,loading=_this$state.loading,projects=_this$state.projects,pageNo=_this$state.pageNo,totalProjects=_this$state.totalProjects;if(loading){return React.createElement(Loading,null);}return React.createElement(\"div\",null,React.createElement(Row,{style:{marginTop:\"20px\"}}),React.createElement(Row,null,React.createElement(Col,null,React.createElement(\"h5\",null,React.createElement(Icon,null,\"assignment_turned_in\"),\"Project Contributors\"))),React.createElement(ProjectFilter,{searchData:this.searchData,resetFilter:this.resetFilter}),React.createElement(Row,{className:\" radius-corner\",style:{backgroundColor:\"white\",padding:\"20px\",boxShadow:\"1px 1px 1px #9E9E9E\"}},React.createElement(Row,{style:{textAlign:\"center\"}},React.createElement(Pagination,{activePage:pageNo,items:totalProjects/10+1,leftBtn:React.createElement(Icon,null,\"chevron_left\"),maxButtons:3,rightBtn:React.createElement(Icon,null,\"chevron_right\"),onSelect:function onSelect(pageNumber){_this2.setPageNumber(pageNumber);}})),React.createElement(ProjectTableAdmin,{projects:projects,updateData:this.getProjects})));}}]);return ProjectContributors;}(Component);export default connect(mapStateToProps)(ProjectContributors);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/admin/project/ProjectContributors.jsx"],"names":["React","Component","connect","Row","Col","Pagination","Icon","ProjectTableAdmin","API","Loading","ProjectFilter","mapStateToProps","state","ProjectContributors","loading","pageNo","totalProjects","setPageNumber","setState","getProjects","get","then","response","projects","data","count","catch","error","props","history","push","searchData","newData","resetFilter","e","marginTop","backgroundColor","padding","boxShadow","textAlign","pageNumber"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col, Pagination, Icon } from \"react-materialize\";\r\nimport ProjectTableAdmin from \"./ProjectTableAdmin\";\r\nimport API from \"../../../utils/API/API\";\r\nimport Loading from \"../../loading/Loading\";\r\nimport ProjectFilter from \"../../projects/ProjectFilter\";\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nclass ProjectContributors extends Component {\r\n  state = {\r\n    loading: true,\r\n    pageNo: 1,\r\n    totalProjects: 0\r\n  };\r\n  componentDidMount() {\r\n    const { pageNo } = this.state;\r\n    this.getProjects(pageNo);\r\n  }\r\n  setPageNumber = pageNo => {\r\n    this.setState({\r\n      pageNo\r\n    });\r\n    this.getProjects(pageNo);\r\n  };\r\n\r\n  getProjects = pageNo => {\r\n    if(!pageNo) {\r\n      pageNo = this.state.pageNo\r\n    }\r\n    API.get(`/projects?pageNo=${pageNo}`)\r\n      .then(response => {\r\n        this.setState({\r\n          loading: false,\r\n          projects: response.data.projects,\r\n          totalProjects: response.data.count\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.props.history.push(\"/notfound\");\r\n      });\r\n  };\r\n\r\n  //get the new data from ProjectFilter Component and display search result\r\n  searchData = (newData, count) => {\r\n    this.setState({\r\n      projects: newData,\r\n      totalProjects: count\r\n    });\r\n  };\r\n\r\n  //Reset filter project\r\n  resetFilter = e => {\r\n\r\n    this.getProjects(1);\r\n  };\r\n\r\n\r\n  render() {\r\n    const { loading, projects, pageNo, totalProjects } = this.state;\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n    return (\r\n      <div>\r\n        <Row style={{ marginTop: \"20px\" }}></Row>\r\n        <Row>\r\n          <Col>\r\n            <h5><Icon>assignment_turned_in</Icon>Project Contributors</h5>\r\n          </Col>\r\n        </Row>\r\n\r\n        <ProjectFilter\r\n          searchData={this.searchData}\r\n          resetFilter={this.resetFilter}\r\n        />\r\n\r\n        <Row\r\n          className=\" radius-corner\"\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            boxShadow: \"1px 1px 1px #9E9E9E\"\r\n          }}\r\n        >\r\n          <Row style={{ textAlign: \"center\" }}>\r\n            <Pagination\r\n              activePage={pageNo}\r\n              items={totalProjects / 10 + 1}\r\n              leftBtn={<Icon>chevron_left</Icon>}\r\n              maxButtons={3}\r\n              rightBtn={<Icon>chevron_right</Icon>}\r\n              onSelect={pageNumber => {\r\n                this.setPageNumber(pageNumber);\r\n              }}\r\n            />\r\n          </Row>\r\n          <ProjectTableAdmin projects={projects} updateData={this.getProjects}/>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProjectContributors);\r\n"]},"metadata":{},"sourceType":"module"}