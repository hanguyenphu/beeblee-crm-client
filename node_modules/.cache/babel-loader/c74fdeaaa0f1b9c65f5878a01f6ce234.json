{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ha Nguyen\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{Table}from\"react-materialize\";import API from\"../../utils/API/API\";import Loading from\"../loading/Loading\";import formatDate from\"../../utils/commons/FormatDate\";function mapStateToProps(state){return{};}//Display all project in a table\n//required Projects array as a prop\nvar ProjectTable=/*#__PURE__*/function(_Component){_inherits(ProjectTable,_Component);function ProjectTable(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProjectTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProjectTable)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:true,projects:[],statuses:[]};_this.displayProjects=function(projects){var statuses=_this.state.statuses;return projects.map(function(project){var startDate=new Date(project.startDate);var completedDate=new Date(project.completedDate);var status=statuses.filter(function(status){return status._id===project.status;})[0];return React.createElement(\"tr\",{key:project._id},React.createElement(\"td\",null,React.createElement(\"a\",{href:\"/projects/\"+project._id},project.name)),React.createElement(\"td\",null,project.price.$numberDecimal),React.createElement(\"td\",null,status&&React.createElement(\"p\",{style:{color:\"\".concat(status.color)}},status.title)),React.createElement(\"td\",null,project.startDate&&formatDate(startDate)),React.createElement(\"td\",null,project.completedDate&&formatDate(completedDate)));});};return _this;}_createClass(ProjectTable,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.projects){this.setState(_objectSpread({},this.state,{projects:this.props.projects,loading:false}));}API.get(\"/statuses\").then(function(response){_this2.setState(_objectSpread({},_this2.state,{statuses:response.data,loading:false}));}).catch(function(error){_this2.setState(_objectSpread({},_this2.state,{loading:false}));console.log(error);});}},{key:\"render\",value:function render(){var loading=this.state.loading;if(loading){return React.createElement(Loading,null);}var projects=this.props.projects;return React.createElement(Table,{className:\"animated fadeIn\",striped:true,responsive:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{\"data-field\":\"id\"},\"Project Name\"),React.createElement(\"th\",{\"data-field\":\"name\"},\"Price\"),React.createElement(\"th\",{\"data-field\":\"price\"},\"Status\"),React.createElement(\"th\",{\"data-field\":\"price\"},\"Start Date\"),React.createElement(\"th\",{\"data-field\":\"price\"},\"Completed Date\"))),React.createElement(\"tbody\",null,projects.length>0?this.displayProjects(projects):React.createElement(\"tr\",null,React.createElement(\"td\",null,\"There is no project found!\"))));}}]);return ProjectTable;}(Component);export default connect(mapStateToProps)(ProjectTable);","map":{"version":3,"sources":["C:/xampp/htdocs/beeblee-crm-client/src/features/projects/ProjectTable.jsx"],"names":["React","Component","connect","Table","API","Loading","formatDate","mapStateToProps","state","ProjectTable","loading","projects","statuses","displayProjects","map","project","startDate","Date","completedDate","status","filter","_id","name","price","$numberDecimal","color","title","props","setState","get","then","response","data","catch","error","console","log","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"react-materialize\";\r\nimport API from \"../../utils/API/API\";\r\nimport Loading from \"../loading/Loading\";\r\nimport formatDate from \"../../utils/commons/FormatDate\"\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\n//Display all project in a table\r\n//required Projects array as a prop\r\nclass ProjectTable extends Component {\r\n  state = {\r\n    loading: true,\r\n    projects: [],\r\n    statuses: []\r\n  };\r\n  componentDidMount() {\r\n    if (this.props.projects) {\r\n      this.setState({\r\n        ...this.state,\r\n        projects: this.props.projects,\r\n        loading: false\r\n      });\r\n    }\r\n\r\n    API.get(\"/statuses\")\r\n    .then(response => {\r\n      this.setState({\r\n        ...this.state,\r\n        statuses: response.data,\r\n        loading: false\r\n      });\r\n    })\r\n    .catch(error => {\r\n      this.setState({\r\n        ...this.state,\r\n        loading: false\r\n      });\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  displayProjects = projects => {\r\n    const {statuses} = this.state\r\n\r\n    return projects.map(project => {\r\n      const startDate = new Date(project.startDate);\r\n      const completedDate = new Date(project.completedDate);\r\n      const status = statuses.filter(status => status._id === project.status)[0]\r\n\r\n      return (\r\n        <tr key={project._id}>\r\n          <td>\r\n            <a href={\"/projects/\" + project._id}>{project.name}</a>\r\n          </td>\r\n          <td>{project.price.$numberDecimal}</td>\r\n          <td>\r\n           {status && <p style={{ color: `${status.color}` }}>{status.title}</p>}\r\n          </td>\r\n          <td>{project.startDate && formatDate(startDate)}</td>\r\n          <td>{project.completedDate && formatDate(completedDate)}</td>\r\n        </tr>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    if (loading) {\r\n      return <Loading />;\r\n    }\r\n    const { projects } = this.props;\r\n\r\n    return (\r\n      <Table className=\"animated fadeIn\"  striped={true} responsive={true}>\r\n        <thead>\r\n          <tr>\r\n            <th data-field=\"id\">Project Name</th>\r\n            <th data-field=\"name\">Price</th>\r\n            <th data-field=\"price\">Status</th>\r\n            <th data-field=\"price\">Start Date</th>\r\n            <th data-field=\"price\">Completed Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {projects.length>0 ? (\r\n            this.displayProjects(projects)\r\n          ) : (\r\n            <tr>\r\n              <td>There is no project found!</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProjectTable);\r\n"]},"metadata":{},"sourceType":"module"}